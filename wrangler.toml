name = "velocity-api"
main = "src/index.ts"
compatibility_date = "2024-02-08"

[vars]
ENVIRONMENT = "production"
PLATFORM_FEE_BPS = "30"
INTEGRATOR_FEE_BPS = "50"
MAX_SLIPPAGE_BPS = "1000"
PRICE_POLL_INTERVAL_MS = "2000"

[[kv_namespaces]]
binding = "CACHE"
id = "82ebaee9f947487f8fcf682acd3e1274"

[[d1_databases]]
binding = "DB"
database_name = "velocity-db"
database_id = "dac9be73-8a07-4964-bd12-5a9f4cbf8928"

[env.production]
vars = { ENVIRONMENT = "production" }

[env.staging]
vars = { ENVIRONMENT = "staging" }

# Secrets (set via wrangler secret put):
# - JUPITER_API_KEY
# - RPC_ENDPOINT
# - RPC_ENDPOINT_BACKUP
# - FEE_WALLET_ADDRESS
# - API_SECRET_KEY
